<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1641.9234299906357 1914.3588423420424" width="4925.770289971907" height="5743.076527026127">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <rect x="0" y="0" width="1641.9234299906357" height="1914.3588423420424" fill="#ffffff"></rect><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(575.6928931601979 10) rotate(0 79 9.5)"><text x="79" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Start/ Join PVP Game</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(491.28591303957546 55.85416738497406) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(506.4520887341887 72.52034307959002) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P1</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(552.8195541387868 85.68972220595788) rotate(0 106.12921476858355 0.024614846061922435)"><path d="M0 0 C70.3 0.02, 140.61 0.03, 212.26 0.05 M0 0 C63.88 0.01, 127.76 0.03, 212.26 0.05" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(552.8195541387868 85.68972220595788) rotate(0 106.12921476858355 0.024614846061922435)"><path d="M184.07 10.3 C193.4 6.91, 202.74 3.51, 212.26 0.05 M184.07 10.3 C192.55 7.22, 201.03 4.13, 212.26 0.05" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(552.8195541387868 85.68972220595788) rotate(0 106.12921476858355 0.024614846061922435)"><path d="M184.07 -10.22 C193.41 -6.82, 202.74 -3.42, 212.26 0.05 M184.07 -10.22 C192.55 -7.13, 201.04 -4.04, 212.26 0.05" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(631.6447678000668 62.011634698747) rotate(0 16 9.5)"><text x="16" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">/pvp</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(594.0065683928815 87.9225306304852) rotate(0 53 9.5)"><text x="53" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">+ session data</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(767.6262563509754 57.130566199344685) rotate(0 29.995372137726918 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(773.1216284887023 77.62593833707251) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(489.3074948773001 143.54276593228678) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(504.4736705719133 160.2089416268991) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P1</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(763.1006427273987 173.048348231232) rotate(0 -106.58913410872265 0.17707677315411274)"><path d="M0 0 C-47.47 0.08, -94.94 0.16, -213.18 0.35 M0 0 C-59.99 0.1, -119.99 0.2, -213.18 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(763.1006427273987 173.048348231232) rotate(0 -106.58913410872265 0.17707677315411274)"><path d="M-185 -9.95 C-191.28 -7.66, -197.55 -5.36, -213.18 0.35 M-185 -9.95 C-192.93 -7.05, -200.86 -4.15, -213.18 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(763.1006427273987 173.048348231232) rotate(0 -106.58913410872265 0.17707677315411274)"><path d="M-184.97 10.57 C-191.25 8.29, -197.53 6.02, -213.18 0.35 M-184.97 10.57 C-192.91 7.69, -200.85 4.82, -213.18 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(765.6478381887 144.81916474665013) rotate(0 29.995372137726918 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(771.1432103264269 165.3145368843816) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(543.3201992192262 190.67263518737855) rotate(0 141.5 47)"><text x="0" y="14.8" font-family="Helvetica, Segoe UI Emoji" font-size="15.999999999999694px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">on success:</text><text x="0" y="33.6" font-family="Helvetica, Segoe UI Emoji" font-size="15.999999999999694px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">{ status: "success" }</text><text x="0" y="52.400000000000006" font-family="Helvetica, Segoe UI Emoji" font-size="15.999999999999694px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">on failure:</text><text x="0" y="71.2" font-family="Helvetica, Segoe UI Emoji" font-size="15.999999999999694px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">{ status: "error", error: "error message" }</text><text x="0" y="90" font-family="Helvetica, Segoe UI Emoji" font-size="15.999999999999694px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(842.0425319785136 51.04343423182945) rotate(0 150.5 37.5)"><text x="0" y="14.75" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">let newpvp = PVP(GAMEID);</text><text x="0" y="33.5" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">newpvp.addPlayer(req.session.username)</text><text x="0" y="52.25" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">pvp_games.push(newpvp);</text><text x="0" y="71" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">req.session.gameid = GAMEID;</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(485.8476316164838 303.0870576054531) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(501.013807311097 319.7532333000654) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P1</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(549.7755933450353 329.15222701716084) rotate(0 103.27605201282495 0.17707677315320325)"><path d="M0 0 C70.06 0.12, 140.13 0.24, 206.55 0.35 M0 0 C49.81 0.09, 99.61 0.17, 206.55 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(549.7755933450353 329.15222701716084) rotate(0 103.27605201282495 0.17707677315320325)"><path d="M178.34 10.57 C187.91 7.1, 197.48 3.64, 206.55 0.35 M178.34 10.57 C185.15 8.1, 191.95 5.64, 206.55 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(549.7755933450353 329.15222701716084) rotate(0 103.27605201282495 0.17707677315320325)"><path d="M178.38 -9.95 C187.94 -6.46, 197.49 -2.96, 206.55 0.35 M178.38 -9.95 C185.17 -7.47, 191.97 -4.98, 206.55 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(762.1879749278837 304.36345641981643) rotate(0 29.995372137727145 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(767.6833470656106 324.8588285575479) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(272.8925761423793 310.9678784563712) rotate(0 70.5 28)"><text x="0" y="15.666666666666668" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">if received success:</text><text x="0" y="34.333333333333336" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">socket = io();</text><text x="0" y="53" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(616.856734439526 306.4608286394123) rotate(0 29 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">connect</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(591.0536377852372 336.56444140275016) rotate(0 53 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">+ session data</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(843.770028169587 297.4473472515656) rotate(0 185.5 140.5)"><text x="0" y="15.733333333333334" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">const sockets = { (username, socket) pairs }</text><text x="0" y="34.46666666666667" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">// store the new (username, socket) pairs</text><text x="0" y="53.2" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">sockets[socket.request.session.username] = socket;</text><text x="0" y="71.93333333333334" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="90.66666666666667" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">// look for the pvp game with the gameid</text><text x="0" y="109.4" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">let gameid = socket.request.session.gameid;</text><text x="0" y="128.13333333333333" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">let pvp = pvp_games.search(gameid);</text><text x="0" y="146.86666666666667" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">// if 2 players have joined the game, start the game</text><text x="0" y="165.60000000000002" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">if(pvp != null &amp;&amp; pvp.players.length==2){</text><text x="0" y="184.33333333333334" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    pvp.startGame();</text><text x="0" y="203.06666666666666" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    </text><text x="0" y="221.8" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    for each username in pvp.players:      </text><text x="0" y="240.53333333333336" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">        sockets[username].emit("startGame");</text><text x="0" y="259.26666666666665" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">}</text><text x="0" y="278" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    </text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(484.59056145393606 700.9411821042195) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(499.7567371485502 717.6073577988318) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P1</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(747.5939650464056 729.255791536988) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M0 0 C-74.55 0.13, -149.11 0.27, -196.1 0.35 M0 0 C-45.95 0.08, -91.9 0.17, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(747.5939650464056 729.255791536988) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.93 -9.96 C-178.64 -6.04, -189.35 -2.12, -196.1 0.35 M-167.93 -9.96 C-174.53 -7.54, -181.13 -5.13, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(747.5939650464056 729.255791536988) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.89 10.56 C-178.61 6.68, -189.34 2.8, -196.1 0.35 M-167.89 10.56 C-174.5 8.17, -181.11 5.78, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(760.930904765336 702.2175809185828) rotate(0 29.995372137726918 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(766.4262769030638 722.7129530563143) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(615.5996642769787 704.3149531381787) rotate(0 38.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">startGame</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(483.836714706762 770.8559416271364) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(499.00289040137613 787.5221173217496) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P2</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(746.8401182992311 799.170551059904) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M0 0 C-67.09 0.12, -134.17 0.24, -196.1 0.35 M0 0 C-54.07 0.1, -108.14 0.2, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(746.8401182992311 799.170551059904) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.93 -9.96 C-177.56 -6.43, -187.2 -2.9, -196.1 0.35 M-167.93 -9.96 C-175.69 -7.11, -183.46 -4.27, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(746.8401182992311 799.170551059904) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.89 10.56 C-177.54 7.07, -187.19 3.58, -196.1 0.35 M-167.89 10.56 C-175.67 7.75, -183.44 4.93, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(760.1770580181619 772.1323404414998) rotate(0 29.995372137726918 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(765.6724301558897 792.6277125792312) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(614.8458175298047 774.2297126610956) rotate(0 38.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">startGame</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(185.24345412998764 741.8025046834236) rotate(0 133.5 19)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Start initialization for the Game scene</text><text x="0" y="34" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Set up key listener for the canvas</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(482.5728429555288 910.4684039402073) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(497.73901865014295 927.1345796348196) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P1</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(745.5762465479979 938.7830133729749) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M0 0 C-39.5 0.07, -78.99 0.14, -196.1 0.35 M0 0 C-60.39 0.11, -120.78 0.22, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(745.5762465479979 938.7830133729749) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.93 -9.96 C-173.6 -7.88, -179.27 -5.8, -196.1 0.35 M-167.93 -9.96 C-176.6 -6.78, -185.28 -3.61, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(745.5762465479979 938.7830133729749) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.89 10.56 C-173.57 8.51, -179.25 6.45, -196.1 0.35 M-167.89 10.56 C-176.58 7.42, -185.26 4.28, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(758.9131862669287 911.7448027545706) rotate(0 29.995372137727145 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(764.4085584046566 932.2401748923021) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(628.2033059154692 913.8421749741665) rotate(0 25.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">update</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(481.81899620835475 980.3831634631242) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(496.9851719029689 997.0493391577384) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P2</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(744.8223998008239 1008.6977728958918) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M0 0 C-63.39 0.11, -126.78 0.23, -196.1 0.35 M0 0 C-78.41 0.14, -156.82 0.28, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(744.8223998008239 1008.6977728958918) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.93 -9.96 C-177.03 -6.62, -186.14 -3.29, -196.1 0.35 M-167.93 -9.96 C-179.19 -5.83, -190.45 -1.71, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(744.8223998008239 1008.6977728958918) rotate(0 -98.04882987215387 0.17707677315320325)"><path d="M-167.89 10.56 C-177.01 7.26, -186.13 3.96, -196.1 0.35 M-167.89 10.56 C-179.17 6.48, -190.45 2.4, -196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(758.1593395197547 981.6595622774876) rotate(0 29.995372137727145 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(763.6547116574825 1002.154934415219) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(627.4494591682951 983.7569344970834) rotate(0 25.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">update</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(129.23917512611024 946.8308464772872) rotate(0 164 21.5)"><text x="0" y="17.5" font-family="Helvetica, Segoe UI Emoji" font-size="18.760676389484217px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">set up callbacks to render a new frame </text><text x="0" y="39" font-family="Helvetica, Segoe UI Emoji" font-size="18.760676389484217px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">on each update</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(586.768497889414 654.0743438620366) rotate(0 69 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">PVP Game Started</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(608.2817943295931 944.5148430401732) rotate(0 45.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">+ gamestate</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(607.4020345086142 1016.0470357099211) rotate(0 45.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">+ gamestate</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(478.2989069155128 1189.3856701116201) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(493.46508261012696 1206.0518458062324) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P1</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(754.6392502269127 1190.6620689259835) rotate(0 29.995372137726918 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(760.1346223646406 1211.157441063715) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(623.9293698754536 1192.7594411455793) rotate(0 18.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">input</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(112.59331897025731 1204.3784324486187) rotate(0 165 131.5)"><text x="0" y="13.533333333333335" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">On keyevent, send an input event to the server</text><text x="0" y="31.06666666666667" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="48.60000000000001" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">let message = []</text><text x="0" y="66.13333333333334" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="83.66666666666667" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">If keycode includes {w,a,s,d}</text><text x="0" y="101.20000000000002" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">message.push({</text><text x="0" y="118.73333333333335" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    actor: "attacker",</text><text x="0" y="136.26666666666668" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    movestate</text><text x="0" y="153.8" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">})</text><text x="0" y="171.33333333333334" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="188.86666666666667" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">If keycode includes {j,k,l,i}</text><text x="0" y="206.40000000000003" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">message.push({</text><text x="0" y="223.93333333333337" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    actor: "dodger",</text><text x="0" y="241.4666666666667" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    movestate </text><text x="0" y="259" font-family="Helvetica, Segoe UI Emoji" font-size="15.88146475158178px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">})</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(539.5302574471284 1218.310749074688) rotate(0 101.78716095302002 0)"><path d="M0 0 C55.35 0, 110.71 0, 203.57 0 M0 0 C49.71 0, 99.42 0, 203.57 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(539.5302574471284 1218.310749074688) rotate(0 101.78716095302002 0)"><path d="M175.38 10.26 C183.05 7.47, 190.71 4.68, 203.57 0 M175.38 10.26 C182.27 7.76, 189.15 5.25, 203.57 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(539.5302574471284 1218.310749074688) rotate(0 101.78716095302002 0)"><path d="M175.38 -10.26 C183.05 -7.47, 190.71 -4.68, 203.57 0 M175.38 -10.26 C182.27 -7.76, 189.15 -5.25, 203.57 0" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(609.7338903382197 1224.943956750556) rotate(0 33.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">message</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(478.42741857812234 1285.0601727371068) rotate(0 289.5 178)"><text x="0" y="15.736842105263158" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">ABOUT MOVESTATE:</text><text x="0" y="34.473684210526315" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="53.21052631578947" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">const MOVESTATE = {STILL: 0, UP: 1, DOWN: 2, LEFT: 4, RIGHT: 8}</text><text x="0" y="71.94736842105263" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="90.68421052631578" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">For example, </text><text x="0" y="109.42105263157895" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">moving upward: movestate = MOVESTATE.UP = 0001</text><text x="0" y="128.1578947368421" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">moving up and left: movestate = MOVESTATE.UP | MOVESTATE.LEFT = 0101</text><text x="0" y="146.89473684210526" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">not moving = MOVESTATE.STILL = 0000</text><text x="0" y="165.6315789473684" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="184.36842105263156" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Association between keycode and movestate:</text><text x="0" y="203.10526315789474" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="221.8421052631579" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">For attacker/dodger:</text><text x="0" y="240.57894736842104" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">w/i : UP</text><text x="0" y="259.3157894736842" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">a/j: LEFT</text><text x="0" y="278.05263157894734" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">s/k: DOWN</text><text x="0" y="296.7894736842105" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">d/l: RIGHT</text><text x="0" y="315.5263157894737" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="334.2631578947368" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Between frames, if the server did not receive any input events, server will assume</text><text x="0" y="353" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">the movestate had not been changed since the last update.</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(856.391126744642 1214.5745797307145) rotate(0 222.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Update movestate of relevant objects and calculate next frame</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(842.9234299906357 878.4381369037055) rotate(0 394.5 122)"><text x="0" y="14.76923076923077" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Once gameover = true, the server will stop sending update events and will wait for both players to acknowledge</text><text x="0" y="33.53846153846154" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Also:</text><text x="0" y="52.30769230769231" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">delete socket.request.session.gameid;</text><text x="0" y="71.07692307692308" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">delete sockets[socket.request.session.username];</text><text x="0" y="89.84615384615385" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">===============================================</text><text x="0" y="108.61538461538461" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">let gamestate = {</text><text x="0" y="127.38461538461539" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    gameover: false,</text><text x="0" y="146.15384615384616" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    winner : undefined,</text><text x="0" y="164.92307692307693" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    player: [</text><text x="0" y="183.6923076923077" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">        {username, attacker: {x,y,w,h}, dodger: {x,y,w,h}},</text><text x="0" y="202.46153846153848" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">        {username, attacker: {x,y,w,h}, dodger: {x,y,w,h}},</text><text x="0" y="221.23076923076923" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">    ]</text><text x="0" y="240" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">}</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(466.12350677856557 1773.1769397293083) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(481.2896824731797 1789.8431154239206) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P1</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(533.0292506267269 1801.491549162076) rotate(0 98.04882987215387 0.17707677315320325)"><path d="M0 0 C55.13 0.1, 110.26 0.2, 196.1 0.35 M0 0 C53.62 0.1, 107.25 0.19, 196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(533.0292506267269 1801.491549162076) rotate(0 98.04882987215387 0.17707677315320325)"><path d="M167.89 10.56 C175.82 7.69, 183.75 4.82, 196.1 0.35 M167.89 10.56 C175.6 7.77, 183.32 4.98, 196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(533.0292506267269 1801.491549162076) rotate(0 98.04882987215387 0.17707677315320325)"><path d="M167.93 -9.96 C175.85 -7.06, 183.77 -4.16, 196.1 0.35 M167.93 -9.96 C175.63 -7.14, 183.33 -4.32, 196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(742.4638500899655 1774.4533385436716) rotate(0 29.995372137726918 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(747.9592222276933 1794.948710681403) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(560.3221280856442 1773.948436359491) rotate(0 64.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">socket.disconnect</text></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(465.3696600313915 1843.0916992522252) rotate(0 26.16617569461323 26.16617569461323)"><path d="M52.33 26.17 C52.33 27.68, 52.2 29.22, 51.93 30.71 C51.67 32.2, 51.27 33.69, 50.75 35.12 C50.24 36.54, 49.58 37.94, 48.83 39.25 C48.07 40.56, 47.18 41.83, 46.21 42.99 C45.24 44.15, 44.15 45.24, 42.99 46.21 C41.83 47.18, 40.56 48.07, 39.25 48.83 C37.94 49.58, 36.54 50.24, 35.12 50.75 C33.69 51.27, 32.2 51.67, 30.71 51.93 C29.22 52.2, 27.68 52.33, 26.17 52.33 C24.65 52.33, 23.11 52.2, 21.62 51.93 C20.13 51.67, 18.64 51.27, 17.22 50.75 C15.79 50.24, 14.39 49.58, 13.08 48.83 C11.77 48.07, 10.51 47.18, 9.35 46.21 C8.19 45.24, 7.1 44.15, 6.12 42.99 C5.15 41.83, 4.26 40.56, 3.51 39.25 C2.75 37.94, 2.1 36.54, 1.58 35.12 C1.06 33.69, 0.66 32.2, 0.4 30.71 C0.13 29.22, 0 27.68, 0 26.17 C0 24.65, 0.13 23.11, 0.4 21.62 C0.66 20.13, 1.06 18.64, 1.58 17.22 C2.1 15.79, 2.75 14.39, 3.51 13.08 C4.26 11.77, 5.15 10.51, 6.12 9.35 C7.1 8.19, 8.19 7.1, 9.35 6.12 C10.51 5.15, 11.77 4.26, 13.08 3.51 C14.39 2.75, 15.79 2.1, 17.22 1.58 C18.64 1.06, 20.13 0.66, 21.62 0.4 C23.11 0.13, 24.65 0, 26.17 0 C27.68 0, 29.22 0.13, 30.71 0.4 C32.2 0.66, 33.69 1.06, 35.12 1.58 C36.54 2.1, 37.94 2.75, 39.25 3.51 C40.56 4.26, 41.83 5.15, 42.99 6.12 C44.15 7.1, 45.24 8.19, 46.21 9.35 C47.18 10.51, 48.07 11.77, 48.83 13.08 C49.58 14.39, 50.24 15.79, 50.75 17.22 C51.27 18.64, 51.67 20.13, 51.93 21.62 C52.2 23.11, 52.27 25.41, 52.33 26.17 C52.4 26.92, 52.4 25.41, 52.33 26.17" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(480.53583572600564 1859.7578749468394) rotate(0 11 9.5)"><text x="11" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">P2</text></g><g stroke-linecap="round"><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(532.2754038795529 1871.4063086849928) rotate(0 98.04882987215387 0.17707677315320325)"><path d="M0 0 C72.46 0.13, 144.92 0.26, 196.1 0.35 M0 0 C59.97 0.11, 119.93 0.22, 196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(532.2754038795529 1871.4063086849928) rotate(0 98.04882987215387 0.17707677315320325)"><path d="M167.89 10.56 C178.31 6.79, 188.74 3.02, 196.1 0.35 M167.89 10.56 C176.51 7.44, 185.14 4.32, 196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(532.2754038795529 1871.4063086849928) rotate(0 98.04882987215387 0.17707677315320325)"><path d="M167.93 -9.96 C178.34 -6.15, 188.74 -2.34, 196.1 0.35 M167.93 -9.96 C176.54 -6.8, 185.16 -3.65, 196.1 0.35" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-opacity="0.8" fill-opacity="0.8" stroke-linecap="round" transform="translate(741.7100033427914 1844.3680980665886) rotate(0 29.995372137726918 29.995372137726918)"><path d="M59.99 30 C59.99 31.73, 59.84 33.49, 59.54 35.2 C59.23 36.91, 58.78 38.62, 58.18 40.25 C57.59 41.89, 56.84 43.49, 55.97 44.99 C55.1 46.5, 54.09 47.95, 52.97 49.28 C51.86 50.61, 50.61 51.86, 49.28 52.97 C47.95 54.09, 46.5 55.1, 44.99 55.97 C43.49 56.84, 41.89 57.59, 40.25 58.18 C38.62 58.78, 36.91 59.23, 35.2 59.54 C33.49 59.84, 31.73 59.99, 30 59.99 C28.26 59.99, 26.5 59.84, 24.79 59.54 C23.08 59.23, 21.37 58.78, 19.74 58.18 C18.1 57.59, 16.5 56.84, 15 55.97 C13.49 55.1, 12.04 54.09, 10.71 52.97 C9.38 51.86, 8.13 50.61, 7.02 49.28 C5.9 47.95, 4.89 46.5, 4.02 44.99 C3.15 43.49, 2.4 41.89, 1.81 40.25 C1.22 38.62, 0.76 36.91, 0.46 35.2 C0.15 33.49, 0 31.73, 0 30 C0 28.26, 0.15 26.5, 0.46 24.79 C0.76 23.08, 1.22 21.37, 1.81 19.74 C2.4 18.1, 3.15 16.5, 4.02 15 C4.89 13.49, 5.9 12.04, 7.02 10.71 C8.13 9.38, 9.38 8.13, 10.71 7.02 C12.04 5.9, 13.49 4.89, 15 4.02 C16.5 3.15, 18.1 2.4, 19.74 1.81 C21.37 1.22, 23.08 0.76, 24.79 0.46 C26.5 0.15, 28.26 0, 30 0 C31.73 0, 33.49 0.15, 35.2 0.46 C36.91 0.76, 38.62 1.22, 40.25 1.81 C41.89 2.4, 43.49 3.15, 44.99 4.02 C46.5 4.89, 47.95 5.9, 49.28 7.02 C50.61 8.13, 51.86 9.38, 52.97 10.71 C54.09 12.04, 55.1 13.49, 55.97 15 C56.84 16.5, 57.59 18.1, 58.18 19.74 C58.78 21.37, 59.23 23.08, 59.54 24.79 C59.84 26.5, 59.91 29.13, 59.99 30 C60.07 30.86, 60.07 29.13, 59.99 30" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(747.2053754805193 1864.86347020432) rotate(0 24.5 9.5)"><text x="24.5" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Server</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(559.664869732806 1845.1643330842971) rotate(0 64.5 9.5)"><text x="0" y="15" font-family="Helvetica, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">socket.disconnect</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(10 1803.0336962569481) rotate(0 219.5 32)"><text x="0" y="17.333333333333332" font-family="Helvetica, Segoe UI Emoji" font-size="18.760676389484217px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Showed the result to player, when player clicks OK,</text><text x="0" y="38.666666666666664" font-family="Helvetica, Segoe UI Emoji" font-size="18.760676389484217px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">will send a disconnect event to server, then return to </text><text x="0" y="60" font-family="Helvetica, Segoe UI Emoji" font-size="18.760676389484217px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">main menu</text></g><g stroke-opacity="0.8" fill-opacity="0.8" transform="translate(828.2224255677988 1817.719409353952) rotate(0 189.5 21.5)"><text x="0" y="17.5" font-family="Helvetica, Segoe UI Emoji" font-size="18.760676389484217px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">After receiving disconnect from both sockets, </text><text x="0" y="39" font-family="Helvetica, Segoe UI Emoji" font-size="18.760676389484217px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">server destroy the PVP game object</text></g></svg>